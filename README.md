# ğŸ“º Story Flow - AIæ–‡æœ¬åˆ°è§†é¢‘ç”Ÿæˆç³»ç»Ÿ

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Version](https://img.shields.io/badge/Version-0.1.0-orange.svg)](https://github.com/your-username/story-flow)

ä¸€ä¸ªå¼ºå¤§çš„AIé©±åŠ¨æ–‡æœ¬åˆ°è§†é¢‘ç”Ÿæˆç³»ç»Ÿï¼Œèƒ½å¤Ÿå°†å°è¯´ã€æ•…äº‹ç­‰æ–‡æœ¬å†…å®¹è‡ªåŠ¨è½¬æ¢ä¸ºåŒ…å«AIç”Ÿæˆå›¾åƒã€çœŸå®è¯­éŸ³åˆæˆå’Œç²¾ç¾å­—å¹•çš„å®Œæ•´è§†é¢‘ä½œå“ã€‚

## ğŸ¯ é¡¹ç›®äº®ç‚¹

- ğŸ¤– **å…¨è‡ªåŠ¨åŒ–æµæ°´çº¿** - ä¸€é”®ä»æ–‡æœ¬ç”Ÿæˆå®Œæ•´è§†é¢‘
- ğŸ§  **å¤šAIæ¨¡å‹é›†æˆ** - é›†æˆå¤šç§å…ˆè¿›AIæœåŠ¡
- ğŸ¨ **é«˜è´¨é‡è§†è§‰æ•ˆæœ** - ä¸“ä¸šçº§è§†é¢‘è¾“å‡º
- ğŸ”§ **é«˜åº¦å¯é…ç½®** - çµæ´»çš„å‚æ•°è°ƒæ•´
- ğŸ“± **ç”¨æˆ·å‹å¥½** - ç®€å•æ˜“ç”¨çš„æ“ä½œç•Œé¢

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ§  æ™ºèƒ½æ–‡æœ¬å¤„ç†
- **å¤šLLMæ”¯æŒ** - OpenAI GPT-3.5/4 / DeepSeek (æ€§ä»·æ¯”æ›´é«˜)
- **æ™ºèƒ½åˆ†æ®µ** - è‡ªåŠ¨è¯†åˆ«ç« èŠ‚å’Œæ®µè½ç»“æ„
- **å†…å®¹åˆ†æ** - AIç†è§£æ–‡æœ¬å†…å®¹å¹¶ç”Ÿæˆæè¿°
- **å¤šè¯­è¨€æ”¯æŒ** - æ”¯æŒä¸­è‹±æ–‡å†…å®¹å¤„ç†

### ğŸ¨ AIå›¾åƒç”Ÿæˆ
- **Stable Diffusion** - é«˜è´¨é‡AIå›¾åƒç”Ÿæˆ
- **LoRAæ¨¡å‹æ”¯æŒ** - é£æ ¼åŒ–å›¾åƒå®šåˆ¶
- **æ‰¹é‡å¤„ç†** - å¤šçº¿ç¨‹å¹¶å‘ç”Ÿæˆ
- **å‚æ•°å¯è°ƒ** - ä¸°å¯Œçš„ç”Ÿæˆå‚æ•°é…ç½®

### ğŸ™ï¸ è¯­éŸ³åˆæˆ
- **Azure TTS** - å¾®è½¯è®¤çŸ¥æœåŠ¡è¯­éŸ³åˆæˆ
- **å¤šç§éŸ³è‰²** - æ”¯æŒå¤šç§ä¸­æ–‡è¯­éŸ³è§’è‰²
- **æƒ…æ„Ÿè¡¨è¾¾** - å¯é…ç½®è¯­éŸ³é£æ ¼å’Œæƒ…æ„Ÿ
- **é«˜è´¨é‡è¾“å‡º** - è‡ªç„¶æµç•…çš„è¯­éŸ³æ•ˆæœ

### ğŸ¬ è§†é¢‘åˆ¶ä½œ
- **è‡ªåŠ¨åˆæˆ** - å›¾åƒã€è¯­éŸ³ã€å­—å¹•è‡ªåŠ¨åˆæˆ
- **ä¸“ä¸šå­—å¹•** - å¯è‡ªå®šä¹‰å­—ä½“ã€é¢œè‰²ã€ä½ç½®
- **è§†è§‰ç‰¹æ•ˆ** - æ”¯æŒå¤šç§è§†é¢‘è½¬åœºæ•ˆæœ
- **é«˜æ¸…è¾“å‡º** - æ”¯æŒå¤šç§åˆ†è¾¨ç‡å’Œæ ¼å¼  

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **Python**: 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.15+, Ubuntu 18.04+
- **å†…å­˜**: å»ºè®® 8GB ä»¥ä¸Š
- **å­˜å‚¨**: è‡³å°‘ 2GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥ï¼ˆç”¨äºAIæœåŠ¡è°ƒç”¨ï¼‰

### ğŸ› ï¸ å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/story-flow.git
cd story-flow
```

#### 2. ç¯å¢ƒå‡†å¤‡
```bash
# ä½¿ç”¨ uv ç®¡ç†ä¾èµ–ï¼ˆæ¨èï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–
uv sync

# æˆ–ä½¿ç”¨ä¼ ç»Ÿæ–¹å¼ï¼ˆä¸æ¨èï¼‰
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate  # Windows
# æ³¨æ„ï¼šæœ¬é¡¹ç›®ä½¿ç”¨ uv ç®¡ç†ä¾èµ–ï¼Œå»ºè®®ä½¿ç”¨ä¸Šè¿° uv æ–¹å¼
```

#### 3. é…ç½®APIæœåŠ¡
```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIå¯†é’¥
nano .env  # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

#### 4. éªŒè¯å®‰è£…
```bash
# è¿è¡Œç¯å¢ƒæ£€æŸ¥
uv run python scripts/setup_env.py

# æµ‹è¯•LLMè¿æ¥
uv run python scripts/test_llm.py
```

### ğŸ¬ å¼€å§‹åˆ›ä½œ

#### æ–¹å¼ä¸€ï¼šå…¨è‡ªåŠ¨æµæ°´çº¿
```bash
# å‡†å¤‡ä½ çš„æ–‡æœ¬æ–‡ä»¶
echo "ç¬¬ä¸€ç«  ç¥ç§˜çš„å¼€å§‹\n\nåœ¨ä¸€ä¸ªæœˆé»‘é£é«˜çš„å¤œæ™š..." > data/input/story.txt

# ä¸€é”®ç”Ÿæˆè§†é¢‘
uv run python scripts/auto_pipeline.py
```

#### æ–¹å¼äºŒï¼šåˆ†æ­¥æ‰§è¡Œ
```bash
# 1. æ–‡æœ¬åˆ†æå’Œåˆ†æ®µ
uv run python src/pipeline/text_splitter.py

# 2. å†…å®¹åˆ†æå’Œç¿»è¯‘
uv run python src/pipeline/text_analyzer.py

# 3. ç”Ÿæˆå›¾åƒ
uv run python src/pipeline/image_generator.py

# 4. è¯­éŸ³åˆæˆ
uv run python src/pipeline/voice_synthesizer.py

# 5. è§†é¢‘åˆæˆ
uv run python src/pipeline/video_composer.py
```

## ğŸ“š å®Œæ•´æ–‡æ¡£

### ğŸ¯ ç”¨æˆ·æ–‡æ¡£
- **[ğŸ“– ç”¨æˆ·æŒ‡å—](docs/user-guide.md)** - å®Œæ•´çš„å®‰è£…å’Œä½¿ç”¨æ•™ç¨‹
- **[ğŸ”§ ç¯å¢ƒé…ç½®](docs/environment-setup.md)** - ç¯å¢ƒæ­å»ºå’Œé…ç½®è¯´æ˜

### ğŸ› ï¸ å¼€å‘æ–‡æ¡£  
- **[ğŸ—ï¸ å¼€å‘æŒ‡å—](docs/development-guide.md)** - ä»£ç ç»“æ„å’Œå¼€å‘è¯´æ˜
- **[ğŸ“š APIå‚è€ƒ](docs/api-reference.md)** - é…ç½®å‚æ•°å’Œæ¥å£æ–‡æ¡£

## âš™ï¸ é…ç½®è¯´æ˜

### ğŸ”‘ å¿…éœ€çš„APIæœåŠ¡

#### 1. å¤§è¯­è¨€æ¨¡å‹ (äºŒé€‰ä¸€)

**DeepSeek API (æ¨è - æ€§ä»·æ¯”é«˜)**
```env
LLM_PROVIDER=deepseek
DEEPSEEK_API_KEY=sk-your-deepseek-key
DEEPSEEK_MODEL=deepseek-chat
```

**OpenAI API**
```env
LLM_PROVIDER=openai
OPENAI_API_KEY=sk-your-openai-key
OPENAI_MODEL=gpt-3.5-turbo-16k
```

#### 2. Azure è¯­éŸ³æœåŠ¡
```env
AZURE_SPEECH_KEY=your-azure-speech-key
AZURE_SPEECH_REGION=eastasia
AZURE_VOICE_NAME=zh-CN-YunxiNeural
```

#### 3. Stable Diffusion API
```env
SD_API_URL=http://127.0.0.1:7860
SD_STEPS=30
SD_CFG_SCALE=7.5
SD_WIDTH=1360
SD_HEIGHT=1024
```

### ğŸ›ï¸ é«˜çº§é…ç½®

<details>
<summary>ç‚¹å‡»æŸ¥çœ‹å®Œæ•´é…ç½®é€‰é¡¹</summary>

```env
# è§†é¢‘è®¾ç½®
VIDEO_FPS=24
VIDEO_ENABLE_EFFECT=true
VIDEO_EFFECT_TYPE=fade

# å­—å¹•è®¾ç½®
SUBTITLE_FONTSIZE=48
SUBTITLE_FONTCOLOR=white
SUBTITLE_STROKE_COLOR=black
SUBTITLE_STROKE_WIDTH=2

# æ€§èƒ½è®¾ç½®
MAX_WORKERS_IMAGE=3
MAX_WORKERS_VIDEO=2
MAX_WORKERS_TRANSLATION=5
```
</details>

ğŸ“– **è¯¦ç»†é…ç½®æŒ‡å—**: [ç¯å¢ƒé…ç½®æ–‡æ¡£](docs/environment-setup.md)

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph LR
    A[ğŸ“ æ–‡æœ¬è¾“å…¥] --> B[ğŸ” æ–‡æœ¬åˆ†æ]
    B --> C[ğŸ“Š å†…å®¹ç†è§£]
    C --> D[ğŸ¨ å›¾åƒç”Ÿæˆ]
    C --> E[ğŸ™ï¸ è¯­éŸ³åˆæˆ]
    D --> F[ğŸ¬ è§†é¢‘åˆæˆ]
    E --> F
    F --> G[ğŸ“¹ æœ€ç»ˆè§†é¢‘]
```

### ğŸ“ é¡¹ç›®ç»“æ„

```
story-flow/
â”œâ”€â”€ ğŸ“ src/                    # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“„ config.py           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ ğŸ“„ llm_client.py       # LLMå®¢æˆ·ç«¯
â”‚   â””â”€â”€ ğŸ“ pipeline/           # å¤„ç†æµæ°´çº¿
â”‚       â”œâ”€â”€ ğŸ“„ text_splitter.py    # æ–‡æœ¬åˆ†å‰²
â”‚       â”œâ”€â”€ ğŸ“„ text_analyzer.py    # æ–‡æœ¬åˆ†æ
â”‚       â”œâ”€â”€ ğŸ“„ image_generator.py  # å›¾åƒç”Ÿæˆ
â”‚       â”œâ”€â”€ ğŸ“„ voice_synthesizer.py # è¯­éŸ³åˆæˆ
â”‚       â””â”€â”€ ğŸ“„ video_composer.py   # è§†é¢‘åˆæˆ
â”œâ”€â”€ ğŸ“ scripts/                # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ auto_pipeline.py   # è‡ªåŠ¨åŒ–æµæ°´çº¿
â”‚   â”œâ”€â”€ ğŸ“„ setup_env.py       # ç¯å¢ƒè®¾ç½®
â”‚   â””â”€â”€ ğŸ“„ test_llm.py        # LLMæµ‹è¯•
â”œâ”€â”€ ğŸ“ data/                   # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ input/             # è¾“å…¥æ–‡ä»¶
â”‚   â””â”€â”€ ğŸ“ output/            # è¾“å‡ºæ–‡ä»¶
â”œâ”€â”€ ğŸ“ docs/                   # æ–‡æ¡£
â””â”€â”€ ğŸ“„ pyproject.toml         # é¡¹ç›®é…ç½®
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- ğŸ“š **å°è¯´å¯è§†åŒ–** - å°†å°è¯´ç« èŠ‚è½¬æ¢ä¸ºè§†é¢‘
- ğŸ“ **æ•™è‚²å†…å®¹** - åˆ¶ä½œæ•™å­¦è§†é¢‘å’Œè¯¾ä»¶
- ğŸ“– **æ•…äº‹è®²è¿°** - å„¿ç«¥æ•…äº‹ã€å¯“è¨€ç­‰
- ğŸ¬ **å†…å®¹åˆ›ä½œ** - è‡ªåª’ä½“è§†é¢‘åˆ¶ä½œ
- ğŸ“± **ç¤¾äº¤åª’ä½“** - çŸ­è§†é¢‘å†…å®¹ç”Ÿæˆ

## ğŸ”§ æŠ€æœ¯æ ˆ

- **ğŸ Python 3.10+** - æ ¸å¿ƒå¼€å‘è¯­è¨€
- **ğŸ¤– OpenAI/DeepSeek API** - å¤§è¯­è¨€æ¨¡å‹æœåŠ¡
- **ğŸ¨ Stable Diffusion** - AIå›¾åƒç”Ÿæˆ
- **ğŸ™ï¸ Azure Cognitive Services** - è¯­éŸ³åˆæˆ
- **ğŸ¬ MoviePy** - è§†é¢‘å¤„ç†
- **ğŸ“Š Pandas** - æ•°æ®å¤„ç†
- **ğŸ–¼ï¸ Pillow** - å›¾åƒå¤„ç†
- **ğŸµ Pydub** - éŸ³é¢‘å¤„ç†

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

### ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ [å¸¸è§é—®é¢˜](docs/FAQ.md)
2. æœç´¢ç°æœ‰çš„ [Issues](https://github.com/your-username/story-flow/issues)
3. åˆ›å»ºæ–°çš„ Issue å¹¶æä¾›è¯¦ç»†ä¿¡æ¯

### ğŸ“ å¼€å‘è®¡åˆ’

- [ ] æ”¯æŒæ›´å¤šè¯­éŸ³æœåŠ¡å•†
- [ ] æ·»åŠ è§†é¢‘æ¨¡æ¿ç³»ç»Ÿ
- [ ] æ”¯æŒå®æ—¶é¢„è§ˆ
- [ ] Webç•Œé¢å¼€å‘
- [ ] Dockerå®¹å™¨åŒ–éƒ¨ç½²

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE) - è¯¦æƒ…è¯·æŸ¥çœ‹ LICENSE æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š
- [OpenAI](https://openai.com/) - GPTæ¨¡å‹æœåŠ¡
- [DeepSeek](https://www.deepseek.com/) - é«˜æ€§ä»·æ¯”LLMæœåŠ¡
- [Azure Cognitive Services](https://azure.microsoft.com/services/cognitive-services/) - è¯­éŸ³åˆæˆæœåŠ¡
- [Stable Diffusion](https://stability.ai/) - AIå›¾åƒç”Ÿæˆ
- [MoviePy](https://zulko.github.io/moviepy/) - è§†é¢‘å¤„ç†åº“

---

<div align="center">

**ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

**ğŸ“š å®Œæ•´ä½¿ç”¨æ•™ç¨‹è¯·æŸ¥çœ‹ä¸Šæ–¹æ–‡æ¡£é“¾æ¥**

[ğŸ  ä¸»é¡µ](https://github.com/your-username/story-flow) â€¢ [ğŸ“– æ–‡æ¡£](docs/) â€¢ [ğŸ› é—®é¢˜åé¦ˆ](https://github.com/your-username/story-flow/issues) â€¢ [ğŸ’¬ è®¨è®º](https://github.com/your-username/story-flow/discussions)

</div>
