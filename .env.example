# ================================
# AI服务配置
# ================================

# 大语言模型服务商选择: openai, deepseek
LLM_PROVIDER=deepseek

# OpenAI API配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-3.5-turbo-16k

# DeepSeek API配置
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat

# 通用LLM配置
LLM_MAX_TOKENS=500
LLM_COOLDOWN_SECONDS=60
LLM_MAX_REQUESTS=90
LLM_TEMPERATURE=0.7

# ================================
# Azure语音服务配置
# ================================

AZURE_SPEECH_KEY=your_azure_speech_key_here
AZURE_SPEECH_REGION=eastasia
AZURE_VOICE_NAME=zh-CN-YunxiNeural
AZURE_VOICE_STYLE=calm
AZURE_VOICE_ROLE=OlderAdultMale
AZURE_VOICE_RATE=+40%
AZURE_VOICE_VOLUME=+30%
AZURE_VOICE_PITCH=+0Hz

# ================================
# Stable Diffusion基础配置
# ================================

SD_API_URL=http://127.0.0.1:7860
SD_STEPS=20
SD_CFG_SCALE=7.5
SD_SAMPLER_NAME=DPM++ 2M Karras
SD_BATCH_SIZE=1
SD_SEED=333

# ================================
# Stable Diffusion高分辨率配置
# 注意：实际图像尺寸由HR_RESIZE_X/Y控制，而非基础WIDTH/HEIGHT
# ================================

SD_ENABLE_HR=true
SD_DENOISING_STRENGTH=0.5
SD_FIRSTPHASE_WIDTH=960
SD_FIRSTPHASE_HEIGHT=540
SD_HR_SCALE=2
SD_HR_UPSCALER=4x-UltraSharp
SD_HR_SECOND_PASS_STEPS=10
SD_HR_RESIZE_X=1920
SD_HR_RESIZE_Y=1080

# ================================
# Stable Diffusion其他配置
# ================================

SD_RESTORE_FACES=false
SD_TILING=false

# 负面提示词配置
SD_NEGATIVE_PROMPT=NSFW,extra fingers, ugly, photorealistic, 3d, monochrome, distorted face, bad anatomy, writing, words, blurry, haze, unfocused, cropped, extra limbs, unfinished, jpg artifacts,lowres, bad anatomy, bad hands,mutation,mutated,((text)), (error),(((watermark))),((logo)),(((username))),(((font))),((signature)), missing fingers,extra digit, fewer digits, cropped, worst quality, low quality,normal quality, jpeg artifacts, signature, watermark, username, blurry,book

# ================================
# ADetailer配置
# ================================

SD_ADETAILER_ENABLED=true
SD_ADETAILER_FACE_MODEL=face_yolov8n.pt
SD_ADETAILER_HAND_MODEL=hand_yolov8n.pt

# 用户自定义图像风格参数（可选，将附加到所有图像生成提示词中）
# 例如: "Harry Potter-style children's stories" 或 "anime style, vibrant colors"
SD_STYLE="Harry Potter-style children's stories"

# ================================
# LoRA模型配置
# ================================

LORA_MODEL_0=
LORA_MODEL_1=lora:princess_zelda:1.5
LORA_MODEL_2=lora:Constricted PupilsV3:1
LORA_MODEL_3=
LORA_MODEL_4=
LORA_MODEL_5=
LORA_MODEL_6=
LORA_MODEL_7=
LORA_MODEL_8=
LORA_MODEL_9=

# ================================
# 项目路径配置
# ================================

PROJECT_ROOT=/Users/forest/story-flow
INPUT_MD_FILE=data/input/input.md
INPUT_DIR=data/input

OUTPUT_EXCEL_FILE=data/output/processed/txt.csv
OUTPUT_DIR_TXT=data/output/processed
OUTPUT_DIR_IMAGE=data/output/images
OUTPUT_DIR_VOICE=data/output/audio
OUTPUT_DIR_VIDEO=data/output/videos
OUTPUT_DIR_TEMP=data/temp
PARAMS_JSON_FILE=data/temp/params.json

# ================================
# 文本处理配置
# ================================

MIN_SENTENCE_LENGTH=10
ENCODING_LIST=utf-8,gb2312,gbk,gb18030
MAX_WORKERS_TRANSLATION=4
MAX_WORKERS_IMAGE=2

# 文本分割器配置
TEXT_SPLITTER_SUPPORTED_INPUT=md,txt
TEXT_SPLITTER_SUPPORTED_OUTPUT=md,txt,json
TEXT_SPLITTER_DEFAULT_INPUT_FORMAT=md
TEXT_SPLITTER_DEFAULT_OUTPUT_FORMAT=md
TEXT_SPLITTER_CHAPTER_PATTERNS=# ,## ,### ,第.*章,Chapter

# ================================
# 视频生成配置
# ================================

VIDEO_FPS=30
VIDEO_DURATION_PER_IMAGE=3.0
VIDEO_SUBTITLE=true
VIDEO_EFFECTS=true
VIDEO_QUALITY=high
VIDEO_BITRATE=5000k
AUDIO_BITRATE=192k

# ================================
# 字幕配置
# ================================

VIDEO_SUBTITLE=true          # 启用字幕

# 字幕样式配置
SUBTITLE_FONTSIZE=24                              # 字体大小
SUBTITLE_FONTCOLOR=#FFFFFF                        # 字体颜色（白色）
SUBTITLE_STROKE_COLOR=#000000                     # 描边颜色（黑色）
SUBTITLE_STROKE_WIDTH=2                           # 描边宽度
SUBTITLE_FONT=/System/Library/Fonts/PingFang.ttc  # 字体文件路径
SUBTITLE_ALIGN=center                             # 对齐方式（left/center/right）
SUBTITLE_POSITION=50                              # 位置设置（像素）

# ================================
# 调试和日志配置
# ================================

DEBUG=false
LOG_LEVEL=INFO

